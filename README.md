# Занятие 16. Пользователи и группы. Авторизация и аутентификация 

### Задание
```
PAM
- Запретить всем пользователям, кроме группы admin логин в выходные (суббота и воскресенье), без учета праздников
- дать конкретному пользователю права работать с докером и возможность рестартить докер сервис
```
## Решение

### 1. Запретить всем пользователям, кроме группы admin логин в выходные (суббота и воскресенье), без учета праздников
- создатся пользователи allday и workday
- создается группа admin, в нее добавляются пользователи root и allday
- в файле /etc/pam.d/sshd и /etc/pam.d/su устанавливаем вызов скрипта /etc/pam_script, проверяющего присутствие пользователя в группе admin, и в противном случае проверяюшего день недели

>su - workday
```
Пароль
Otus2021
```
Не сможет войти в выходные дни
>su - allday
```
Пароль
Otus2021
```
Войдет в любой день

### 2. Дать конкретному пользователю права работать с докером и возможность рестартить докер сервис
Для примера выбран пользователь allday

>su - allday
```
Пароль
Otus2021
```
- для возможности работать с docker использована команда setfacl с установкой разрешения rw на /var/run/docker.sock
- для возможности рестарта в файл sudoers добавлено соответствующее разрешение
>sudo systemctl restart docker

>sudo systemctl status docker

>docker info
